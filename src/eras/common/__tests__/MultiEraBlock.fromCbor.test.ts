// if you pass a block with multi era it will throw an error
test.todo("uncomment test")

import { MultiEraBlock } from "../MultiEraBlock";

test("MultiEraBlock block Conway", () => {
    const str = "820785828a1a0017c5581a01df4f585820cf2b018d4d68e3ac5ab33c11085153230ae952b3e0d13a96bc9e5aed52541ec45820e3c87f196ce9fc40a8d929f3365e247f8f71e1981bffaa7cbdb0aa3a83dc790d582054a580ddf99f67818e0312374cef1f7dcdd59450930898d4d2d10e606b963e49825840e37a5c63ef1feec844a20be27be90753908f00a770d04c4cde432221733c8c97256bab684104cab6f9198baed95e15de7171c90c60522aeb9d9c1c3fb80ec7905850b8a94265846dc46df0b8faaba1519f4824f8698c60f689a1a8161234eb9abb5d4f6685491929a282967fc28e22c3b6c61a20564d78831d11d680ecc7038daf515ad256c1df2d9361cc881896ff387a0c1903f658209c0119bdb58b76ff957cbdd4c045f8ce117fe944632329bc1c8820776376f20f84582039b66a10f6b78c541ea5ed6ecec4c6dd385b869026ec16c4e48414cb39cac38b0018ca584067ed816b48555012d669b2dd3a15a44adee1e750c01123a8012a9c198f86a91310b3ab894588c6205b85b09972ccf44e88ae75c22f73437dac12962490f58905820a005901c0a0493eef1358bf7c1a18b06414fd2ddc7265fc4d01d8928b5d7b1498b53d651c1246233f869dd18b9f46a30e0a0b49a619b518a7527296129dd417328a9cda07f391e1982fe47595f35ef1ef7f4ea5c7bc89e2e41d3f469c13e5c00fbf089d3cf19f0c870872a1c5b0ed20102f44aa25da749283852d02495d3b51a5125565c6593299ae354c7e2715c1c32cea5938c54810b2c0b731355046a93583bd0af93e42379bd42b3acd0a543b7dc46969c90c6de0ccb28ab12e1a4cbc43e6d1d0c2388c5b2997e60d76ff2fa8491323d7a263b3302989471420d6713ef8f3a495daaffa59fb0d02b4e24d8ee254410cc2313d9c7b27a1b78f7271ec5c12f0c45a4580b04f7290bb8c48bd9bbf081bed4a0177409849305e9b7b8f6bee1c443a7c9bc9d2ffde22ec9c87a37a2bf1d58bca70b70b1e619bcf2a72a282b82f824593c63150714b7cfc4cfd37eb284e5441ca05b0198deee41d82d92bb9250a125f9c83b453d64116e8b320eb3516fcf26e088f3f49175168843c699999a3520273e66167034b14327c2e6ffb92ead2f8a4165a3e4a1c44de677829e8e797547b3c0bac4b5ea89cb86c01d5b1e67aee3ba36b8cf9617484db2e4d1bfc37fed1fabb73ce3c81a400d90102818258202d96189c1c37e493e9dfec965f9272339f4b39e5fcb95c00415b8b22f5f34032000181825839006f611d10634f051543415d238a3b692d65ca46375a9342dcb0cf862934c4d772dea5eeed346e07c4b449ca828f91e0eac43641a70f17247b1b0000000ba435ce66021a00031e4114d9010281841b0000000ba43b7400581de034c4d772dea5eeed346e07c4b449ca828f91e0eac43641a70f17247b8400f6b81e001bffffffffffffffff011bffffffffffffffff021affffffff031affffffff0419ffff051bffffffffffffffff061bffffffffffffffff071affffffff081bffffffffffffffff09d81e821bfffffffffffffffe1bffffffffffffffff0ad81e821bfffffffffffffffe1bffffffffffffffff0bd81e821bfffffffffffffffe1bffffffffffffffff101bffffffffffffffff111bffffffffffffffff12a1008201021382d81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffff14821b7fffffffffffffff1b7fffffffffffffff15821b7fffffffffffffff1b7fffffffffffffff161bffffffffffffffff171bffffffffffffffff18181bffffffffffffffff181985d81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffff181a8ad81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffffd81e821bfffffffffffffffe1bffffffffffffffff181b1bffffffffffffffff181c1affffffff181d1affffffff181e1bffffffffffffffff181f1bffffffffffffffff18201affffffff1821d81e821bfffffffffffffffe1bfffffffffffffffff6827368747470733a2f2f6578616d706c652e636f6d5820000000000000000000000000000000000000000000000000000000000000000081a100d9010281825820792f73fb52a526c6c82f20444000cc0ef2683531d02b991b31ac49151ef333b658407cb5d431cce00f9bb6dadd39993de1cf7a5f4778f88ce7b55d23761bc2b82f7b5f48080adfb7193a35cc739abc2a4b8279329b35c46c359a3e38cb8bba62e40aa080";

    let block!: MultiEraBlock;

    expect(() => {
        block = MultiEraBlock.fromCbor(str);
    }).not.toThrow();   
});

test("MultiEraBlock block Babbage", () => {
    const str = "820685828a19b3c51a0010293958208b93e0ca1cfcb6a48cb081bbc4243e159e84609516a7774b31e7d335ead12f455820b66a201280d405518cb91fb6d5c365220dc892ed2bed041b6996c64e2ab570625820e7b493d575baa41450f7c8c82a462d6c7a5179d143536cdd1a50e8200e6db5d58258407b9680406739e12ae5add6e3370ce74e5f3b7206341926e07df855d5cc5b909f4abd904838776db05b82afca6161be8232f3e74ac964a509221638fd2b0454865850c81fa00e09a6bde3266f7794dcbecb2a028f21a5000a61a2d0c602b0beb82e96d64d3742bd0993a826ac50ada337a79a94641aa1c84f0536aceee170cb09810b1b33ad9f39bab744ba364b82b05b6b051903275820410fd782d7c27a1c3f8c163e18755473aac071ae2d0914420028c6a5b1e30626845820137b969e66998a63e73b3617d97571bae5c281df9d9978d9141677e31d5dfbf400025840aac7ad858b702b6f6700b07f64ebefc09ccb7b7d58cd274620537cd4785a4c39c9dcc7fdaa23cff9f6f056ea2b3e588ee550b2866636e8ba5e109c052a6e910a8207005901c053aa57ffd9afa38c4a44251656a81719a49ef0274c6fd90d071037519321f04dfd00c4b4618d92b526f1c0588684916c77fd556c6986d247a7c3d105298c0001d6fed161ba8c43dcc0abd5f1d7575d7cb10b5a3550b81592b815ec2c850cedb751cc735fb787be9f98de17708ce9703e896616cf6a90e91df80506aa82f12fef6913c5c230fc12174a1e02bcc0b9f93868d39324eddd3649bc1727194bd44c7e7c31a1c3c68dfd9e4793af53575ff8f7e967a4ed213cc3af4d721a3da1e3d499c83060a0c28b2487f3dabce5f1e5a7c2004541a95d0331d7a539c9fd43d88494caeec5a82369dc19939530661e754277fce9579006b43e57ea33c15b6a387a072282d6350bae245264cf3d47c2259e53d8e791e1d6f697470929b2388b953645f33654d141984cb10b9bc4419a33cfbffd65b12f9baf311ca8517dbe146f482f6d69772a7ec12f8f321049afd9056ecea37deb16552350c95fdd0ade0fdcad77a80adfac5ae3e402077c88e288b212f5d1e8128b7aa4d5302aeaec9e5c0383e4c66e7c116f61d4228d9b912d30fadee0468dd0ef1eda0e10dd2ff80b188026145ff0276e21c01d2e04c1f1df2ecc9ce13ed80b7641da3d9464c2a1b769610f2c81a70082825820d4e6079fc395d0c5a6c6c029b4233c8694ab62e2b56568678a84c23bb9ff437000825820d4e6079fc395d0c5a6c6c029b4233c8694ab62e2b56568678a84c23bb9ff4370010d80018282581d6052e63f22c5107ed776b70f7b92248b02552fd08f3e747bc7450994411a000f424082581d6052e63f22c5107ed776b70f7b92248b02552fd08f3e747bc7450994411b0000007314c17466021a000310d9031a0011afcd0e80075820def4265b9bc49ae3663bface1b11df4bd3ea49b9c64456c343d3eb47f8ab025981a10081825820742d8af3543349b5b18f3cba28f23b2d6e465b9c136c42e1fae6b2390f565427584014a08f80f4a359f757ec51a67823e11fb33a8365f7fac33341edb30215c57ea0ae2f34231b39c6f618f06828350d079f92fa21c2845012d3c901b9a10f1b0b01a100d90103a100a11902a2a1636d73678f78264175746f2d4c6f6f702d5472616e73616374696f6e202332363131353420627920415441444160783c4c6976652045706f6368203134382c207765206861766520303031682035346d20303273206c65667420756e74696c20746865206e657874206f6e6578314974277320536f6e6e746167202d203139204a756e692032303232202d2030303a30353a353820696e2041757374726961607838f09f9388205468652063757272656e7420414441205072696365206f6e204b72616b656e2069733a2024302e343436353234202f20414441607820412072616e646f6d205a656e2d51756f746520666f7220796f753a20f09f998f783e53756363657373206973206f6674656e2061636869657665642062792074686f73652077686f20646f6e2774206b6e6f772074686174206661696c757265781c697320696e6576697461626c652e202d20436f636f204368616e656c6078374e6f64652d5265766973696f6e3a203634373163333166386236313739386466353761396633333435353438373033323935636163396560782f566173696c2d4465762d436861696e20697320617765736f6d652c206861766520736f6d652066756e2120f09f988d7819204265737420726567617264732c204d617274696e203a2d2980";

    let block!: MultiEraBlock;

    expect(() => {
        block = MultiEraBlock.fromCbor(str);
    }).not.toThrow();   
});